# タームツリー

指定タクソノミーに属するカテゴリーをツリー表示して、タームの従属関係を操作。  
問題になるのは、ツリー表示の方法。

## 確定：選択した時のみ直下を表示
初期は最上位を表示し、選択したときに下層を取得する。

### 方針：階層すべてを表示させる
階層の変更をする際に、タクソノミー全体の表示を必ず行うので始めから全件表示させる。

### 方針：表示階層を限定させる
実装上、楽な方法として親タームとその配下にあるものだけを表示させる。  
検索させたい場合は別画面で結果を表示させた後に階層表示をさせる工夫が必要。


## 画面表示の条件
- 属するタクソノミー

## タームツリー取得処理
- タクソノミー＋最上位タームの取得
  * 各タームについて、タームに属するタームを検索
- 各階層のタームで属するタームがない場合に処理を終了する

## タームツリーの一括取得
- リスト内タームが全て検索されていない場合は以下を繰り返す
  - 上位のタームを取得する
  - リストにUUID・階層レベル・検索終了フラグを順番に設定する
  - 各タームについて子があるかチェックしていく
    * 子タームがあった場合は親タームの直下にUUID・検索終了フラグ(false)を設定
  - 子タームの検索が終わったらフラグを立てる
  - すべてのタームを検索したら最初に戻り、検索終了フラグがfalseのものに対して子の存在チェックをする

最終的には１次元のListができる

### List内のEntity
- タクソノミーID
- UUID
- 階層レベル

### 表示の扱い
- 階層レベルに応じてインテントして表示する



子のリストの中に同じものが入る

## 課題：従属関係の変更処理
- 移動元を選択する
- 移動元のターム情報を画面上部に表示する
- タームリストの操作部分を選択ボタンのみにする
- 選択ボタンにより従属関係を確定する